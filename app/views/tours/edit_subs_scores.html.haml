.page-header
  .page-header-icon
    = image_tag('navbar/squad.png')
  .page-header-title
    = 'Reservists Scores'
    .page-header-subtitle
      = tour.league.name
.page-info
  = form_for :tour, url: tour_update_subs_scores_path(tour), method: :put do
    .reservists-headers
      .reservists-header Club
      .reservists-header.res-name Player
      .reservists-header{title: 'Total score'} TS
      .reservists-header{title: 'Base score'} BS
      .reservists-header{title: 'Goals / Missed goals'} G/MG
      .reservists-header{title: 'Scored penalty / Caught penalty'} SP/CP
      .reservists-header{title: 'Failed penalty / Missed penalty'} FP/MP
      .reservists-header{title: 'Assists'} A
      .reservists-header{title: 'Clean sheet'} CS
      .reservists-header{title: 'Yellow card'} YC
      .reservists-header{title: 'Red card'} RC
      .reservists-header{title: 'Own goals'} OG
    - @reservists.each do |reservist|
      = fields_for "match_players[]", reservist do |mp_f|
        .reservist-item
          .reservist-param
            .club-logo.l-details-club-logo
              = image_tag(mp_f.object.player.club.logo_path, alt: 'Club Logo')
          .reservist-param.res-name
            = mp_f.object.player.name
          .reservist-param
            = mp_f.object.total_score

          .reservist-param
            = mp_f.number_field :score, in: 0..11, step: 0.01, class: 'form-control'
          - if mp_f.object.player.positions_names_string == 'Por'
            .reservist-param
              = mp_f.number_field :missed_goals, in: 0..9, step: 1, class: 'form-control'
            .reservist-param
              = mp_f.number_field :caught_penalty, in: 0..9, step: 1, class: 'form-control'
            .reservist-param
              = mp_f.number_field :missed_penalty, in: 0..9, step: 1, class: 'form-control'
          - else
            .reservist-param
              = mp_f.number_field :goals, in: 0..9, step: 1, class: 'form-control'
            .reservist-param
              = mp_f.number_field :scored_penalty, in: 0..9, step: 1, class: 'form-control'
            .reservist-param
              = mp_f.number_field :failed_penalty, in: 0..9, step: 1, class: 'form-control'
          .reservist-param
            = mp_f.number_field :assists, in: 0..9, step: 1, class: 'form-control'
          .reservist-param
            - if mp_f.object.player.can_clean_sheet?
              = mp_f.check_box :cleansheet, {'data-toggle' => 'toggle', 'data-onstyle' => 'success', 'data-on' => 'Yes', 'data-off' => 'No', 'data-size' => 'small', 'data-height' => '38'}
          .reservist-param
            = mp_f.check_box :yellow_card, {'data-toggle' => 'toggle', 'data-onstyle' => 'warning', 'data-on' => 'Yes', 'data-off' => 'No', 'data-size' => 'small', 'data-height' => '38'}
          .reservist-param
            = mp_f.check_box :red_card, {'data-toggle' => 'toggle', 'data-onstyle' => 'danger', 'data-on' => 'Yes', 'data-off' => 'No', 'data-size' => 'small', 'data-height' => '38'}
          .reservist-param
            = mp_f.number_field :own_goals, in: 0..9, step: 1, class: 'form-control'

    .form-group
      = submit_tag 'Update scores', class: 'btn btn-success btn-block'
